when a too-wide error occurs,
and a newline is about to be printed,
and there are no upstream fallbacks,
then print the error and continue


visit modules


optimize initial buffer size


TDD every tail usage