#![feature(rustc_private)]

use myrustfmt::format_str;
use tracing_test::traced_test;

#[traced_test]
#[test]
fn long_list_of_short_items() {
    let source =
        "fn main() {
        111111111111111111 - 11111111111111111 + 1111111111111111 * 2222222222222222 + 11111111111111111;
        111111111111111111 * 11111111111111111 + 1111111111111111 - 1111111111111111 + 2222222222222222 * 333333;
        }";
    assert_eq!(
        format_str(source, 48),
        "
fn main() {
    111111111111111111
        - 11111111111111111
        + 1111111111111111 * 2222222222222222
        + 11111111111111111;
    111111111111111111 * 11111111111111111
        + 1111111111111111
        - 1111111111111111
        + 2222222222222222 * 333333;
}
"
        .trim_start()
    );
}
